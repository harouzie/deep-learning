---
marp: true
paginate: true 
header: Ton Duc Thang University 
footer: Introduction to Deep Learning \n Spring 2023
math: mathjax
---



# Introduction to Deep Learning

___Textbook recap___

Student group:

- 520K0127 - Do Pham Quang Hung
- 520K0343 - Le Phuoc Thinh  

![bg right:33%](https://images.unsplash.com/photo-1671967616183-1ec17e990373?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=687&q=80)

---

## CHAPTER 3: Data Engineering Fundamentals

__Designing Machine Learning Systems__
_An Iterative Process for Production-Ready Applications_

![image alt <](https://learning.oreilly.com/library/cover/9781098107956/360h/)

---

## Outlines

1. Data Sources
2. Data Formats
3. Data Models
4. Data Storage Engines and Processing
5. Modes of Dataflow
6. Batch Processing Versus Stream Processing
7. Summary

---

## 1. Data Sources

<font size="5">
An ML system can work with data from many different sources. They have different characteristics, can be used for different purposes, and require different processing methods. Understanding the sources your data comes from can help you use your data more efficiently.
</font>

![bg right:33%](https://images.unsplash.com/photo-1526628953301-3e589a6a8b74?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1406&q=80)

---

## 1. Data Sources [1]

- __user input data__: data explicitly input by users. üßù‚Äç‚ôÄÔ∏èüôé‚úçÔ∏è
    >User input can be text, images, videos, uploaded files, etc. But if it‚Äôs even remotely possible for users to input wrong data, they are going to do it.

    > User input data can be _**easily malformatted**_.

    > User input data requires more _**heavy-duty**_ checking and processing.

    > *** User input data tends to require __*fast*__ processing. ü•≤

---

## 1. Data Sources [2]

- __system-generated data__: This is the data generated by different components of your systems üñ•Ô∏è, which include various types of logs and system outputs such as model predictions.
    > Logs üìù can record the state and significant events of the system, such as memory usage, number of instances, services called, packages used, etc.

    > these data are __less likely to be malformatted__ the way user input data is. Overall, logs don‚Äôt need to be processed as soon as they arrive.

---

## 1. Data Sources [3]

- There are also __internal databases__: generated by various services and enterprise applications in a company.
    > These databases manage their assets such as inventory, customer relationship, users, and more. This kind of data can be used by ML models directly or by various components of an ML system

    > __*First-party data*__ is the data that your company already collects about your users or customers. __*Second-party data*__ is the data collected by another company on their own customers that they make available to you, though you‚Äôll probably have to pay for it. __*Third-party data*__ companies collect data on the public who aren‚Äôt their direct customers.

---

## 2. Data Formats

<font size="5">
Since your data comes from multiple sources with different access patterns, storing your data isn‚Äôt always straightforward and, for some cases, can be costly. It‚Äôs important to think about how the data will be used in the future so that the format you use will make sense.
</font>

![bg right:33%](https://images.unsplash.com/photo-1480843669328-3f7e37d196ae?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2340&q=80)

---

## 2. Data Formats [1]

| Format | Binary/Text | Human-readable | Example use cases |
|--------|-------------|----------------|-------------------|
| JSON      | Text  | Yes  | Everywhere |
| CSV       | Text  | Yes | Everywhere |
| _Parquet_   | _Binary_            | _No_ | _Hadoop, Amazon Redshift_       |
| Avro      | Binary primary    | No | Hadoop|
| Protobuf  | Binary primary| No | Google | TensorFlow (TFRecord) |
| Pickle    | Binary        | No | Python| PyTorch serialization |

---

## 2. Data Formats [2]

__JSON (JavaScript Object Notation)__

<font size ="5">

```json
{
    "firstName": "Boatie",
    "lastName": "McBoatFace",
    "isVibing": true,
    "age": 12,
    "address": {
        "streetAddress": "12 Ocean Drive",
        "city": "Port Royal",
        "postalCode": "10021-3100"
    }
}
```

The same data can also be stored in an unstructured blob of text like the following:

```json
{
    "text": "Boatie McBoatFace, aged 12, is vibing, at 12 Ocean Drive, Port Royal, 10021-3100"
}
```

</font>

---

## 2. Data Formats [3]

__JSON (JavaScript Object Notation)__

JSON is __*ubiquitous*__, the pain it causes can also be felt everywhere. Once you‚Äôve committed the data in your JSON files to a schema, it‚Äôs pretty painful to retrospectively go back to change the schema. JSON files are text files, which means they take up a lot of space, as we‚Äôll see in the section $\text{\color{red}‚ÄúText Versus Binary Format‚Äù}$

![bg left:40%](https://images.unsplash.com/photo-1610986602538-431d65df4385?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1507&q=80)

---

## 2. Data Formats [4]

### Row-Major Versus Column-Major Format

The two formats that are common and represent two distinct paradigms are __CSV__ and __Parquet__.

- __CSV (comma-separated values)__ is row-major, which means consecutive elements in a row are stored next to each other in memory.
- __Parquet__ is column-major, which means consecutive elements in a column are stored next to each other.

---

## 2. Data Formats [5]

### Row-Major Versus Column-Major Format

![](https://www.dremio.com/wp-content/uploads/2022/04/chart-1024x412.png)

---

## 2. Data Formats [6]

![Row-major versus column-major formats](data_order.png)

---

## 2. Data Formats [7]

Column-major formats allow _**flexible column-based reads**_, especially if your data is large with thousands, if not millions, of features

Row-major formats allow faster data writes.

> Overall, row-major formats are better when you have to do a lot of writes, whereas column-major ones are better when you have to do a lot of column-based reads.

---

## 2. Data Formats [8]


![img](npvspd.png)

<font size=4>
(Left) Iterating a pandas DataFrame by column takes 0.07 seconds but
iterating the same DataFrame by row takes 2.41 seconds. (Right) When you convert the
same DataFrame into a NumPy ndarray, accessing its rows becomes much faster.
</font>

---

## 2. Data Formats [9]

### Text Versus Binary Format

- `CSV` and `JSON` are _text files_, whereas `Parquet` files are _binary files_

- Binary files are more compact

* AWS recommends using the Parquet format because ‚Äúthe Parquet format is up to __2x faster to unload and consumes up to 6x less storage__ in Amazon S3, compared to text formats.‚Äù

---

## 3. Data Models

<font size="5">
Data models describe <b>how data is represented</b>. Consider cars in the real world. In a database, a car can be described using its make, its model, its year, its color, and its price
</font>

![bg right:33%](https://images.unsplash.com/photo-1557562645-4eee56b29bc1?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=735&q=80)

---

## 3. Data Models [1]

### Relational Model
<font size = 5>
Relational models are among the most persistent ideas in computer science. Invented by Edgar F. Codd in 1970,9 the relational model is still going strong today, even getting more popular.
 
> data is organized into relations; each relation is a set of tuples. A table is an accepted visual representation of a relation, and each row of a table makes up a tuple

</font>

![](fig34.png)

---

## 3. Data Models [2]

### Relational Model

It‚Äôs often desirable for relations to be normalized. Data normalization can follow normal forms such as the first normal form (1NF), second normal form (2NF), etc.,

---



## 4. Data Storage Engines and Processing

---

## 5. Modes of Dataflow

---

## 6. Batch Processing Versus Stream Processing

---

## 7. Summary

<font size="5">
This chapter is built on the foundations established in Chapter 2 around the importance of data in developing ML systems. In this chapter, we learned it‚Äôs importantto choose the right format to store our data to make it easier to use the data inthe future. We discussed different data formats and the pros and cons of row-majorversus column-major formats as well as text versus binary formats.
</font>

![bg left:30%](https://images.unsplash.com/photo-1506818144585-74b29c980d4b?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1470&q=80/)

---

<p align="center">
    <font size="10">
        <b>Thank you for your attention</b>
    </font>
</p>
